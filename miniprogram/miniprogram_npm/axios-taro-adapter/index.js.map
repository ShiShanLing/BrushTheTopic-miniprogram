{"version":3,"sources":["index.js","src/adapters/taro.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["var __TEMP__ = require('./src/adapters/taro');var taroAdapter = __REQUIRE_DEFAULT__(__TEMP__);\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var TaroAdapter = exports.TaroAdapter = taroAdapter;\n","var __TEMP__ = require('@tarojs/taro');var Taro = __REQUIRE_DEFAULT__(__TEMP__);\n\nfunction settle(resolve, reject, res, failed){\n  if (!failed) {\n    resolve(res);\n  } else {\n    reject(res);\n  }\n}\n\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });function taroAdapter(config) {\n  return new Promise((resolve,reject)=>{\n    Taro.request({\n      ...config,\n      url: config.baseURL + config.url,\n      data: config.data,\n      method: config.method,\n      header: config.headers,\n      timeout: config.timeout,\n      success: function (res) {\n        var response = {\n          ...res,\n          status: res.statusCode,\n          statusText: res.errMsg,\n          headers: res.header,\n          config: config,\n          request: null\n        };\n\n        settle(resolve, reject, response);\n      },\n      fail:function (res) {\n        var response = {\n          ...res,\n          status: res.statusCode,\n          statusText: res.errMsg,\n          headers: res.header,\n          config: config,\n          request: null\n        };\n        \n        settle(resolve, reject, response, true);\n      }\n    })\n  })\n};exports.default = taroAdapter\n"]}